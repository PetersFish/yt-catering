/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT \u00a9 Zeno Rocha
 */
function readyMemberCardInfo(){$.getJSON("/WeiXin/GetCardCf",function(n){for(var t,i=0;i<n.livelist.length;i++)$("#card_live").append('<option value="'+n.livelist[i].memberlevel_id+'">'+n.livelist[i].sv_ml_name+"<\/option>");for(t in n.list)t=="card_numcolor"&&(n.list[t]==null||n.list[t]==""?$("#card_numcolor").minicolors({change:function(){$("#numtitle").css("color",$("#card_numcolor").val())},position:"top right",defaultValue:"#000000"}):$("#card_numcolor").minicolors({change:function(){$("#numtitle").css("color",$("#card_numcolor").val())},position:"top right",defaultValue:n.list[t]})),t=="card_viewproject"&&($("input[name='checki']").prop("checked",!1),n.list[t]==2?$("input[name='checki']").prop("checked",!0):$("input[name='checki']").eq(n.list[t]).prop("checked",!0)),t=="rules"&&n.list[t]&&($("#card_prefix").val(n.list[t].prefix),$("#card_startDigit").val(n.list[t].startDigit),$("#card_digitalLength").val(n.list[t].digitalLength),$("#card_filter").val(n.list[t].filter)),t=="card_img"&&isNullOrWhiteSpace(n.list[t])&&(n.list[t].indexOf("http://")>=0?($("#card_img").attr("src",n.list[t]),$("#card_img2").attr("src",n.list[t])):($("#card_img").attr("src",_g_res_images_url+n.list[t]),$("#card_img2 ").attr("src",_g_res_images_url+n.list[t]))),t=="card_bgimg"&&isNullOrWhiteSpace(n.list[t])&&(n.list[t].indexOf("http://")>=0?($("#card_bgimg").attr("src",n.list[t]),$("#card_bgimg2").css("background","url("+n.list[t]+")")):($("#card_bgimg").attr("src",_g_res_images_url+n.list[t]),$("#card_bgimg2").css("background","url("+_g_res_images_url+n.list[t]+")"))),t=="card_namecolor"&&(n.list[t]==null||n.list[t]==""?$("#card_namecolor").minicolors({change:function(){$("#titlename").css("color","#000000")},position:"top right",defaultValue:"#000000"}):$("#card_namecolor").minicolors({change:function(){$("#titlename").css("color",$("#card_namecolor").val())},position:"top right",defaultValue:n.list[t]})),$("#"+t).val(n.list[t]);$("#titlename").css("color",$("#card_namecolor").val());$("#titlename").text($("#card_name").val());$("#numtitle").css("color",$("#card_numcolor").val())})}function selectCardbgFn(){$(document).on("click",".selectcardbg>li",function(){$(this).addClass("active").siblings("li").removeClass("active")})}function selectCardFn(){$(document).on("click",".selectcard>li",function(){$(this).addClass("active").siblings("li").removeClass("active")})}function getWxMemberCardList(){$.get("http://testing.mispos.cc/api/wx/GetMemberCardQrCodeList?user_id="+user_id,function(n){var t,i;if(n&&n.length>0){for(t="<ul>",i=0;i<n.length;i++)t+='<li class=\'fl\'><img id="codeImg" src="'+n[i].replace('"',"").replace('"',"")+'"><\/li>';t+="<\/ul>";$("#wx_member_card_list").html(t)}else $("#createwxmembercard").removeAttr("disabled")})}function getWxMemberCardListObj(){$.get("http://testing.mispos.cc/api/wx/GetMemberCardQrCodeListObj?user_id="+user_id,function(n){var i,t;if(n&&n.length>0){for(i="<ul>",t=0;t<n.length;t++)i+='<li class="fl"><img id="codeImg" src='+n[t].url+">",i+='<div class="shopaddress"><input style="width: 200px;" type="text" id="" class="form-control cordaddress copyUrl copyUrl'+t+'" name="" value="'+n[t].show_qrcode_url+'">',i+='<button type="button" id="" data-clipboard-action="copy" data-clipboard-target=".copyUrl'+t+'" class="btn copyaddress copyaddress2">\u590d\u5236\u94fe\u63a5<\/button><\/div><\/li>';i+="<\/ul>";$("#wx_member_card_list").html(i)}else $("#createwxmembercard").removeAttr("disabled")})}var clipboard;!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.Clipboard=n()}}(function(){var n;return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){function r(n,t){for(;n&&n.nodeType!==u;){if("function"==typeof n.matches&&n.matches(t))return n;n=n.parentNode}}var u=9,i;"undefined"==typeof Element||Element.prototype.matches||(i=Element.prototype,i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector);t.exports=r},{}],2:[function(n,t){function i(n,t,i,u,f){var e=r.apply(this,arguments);return n.addEventListener(i,e,f),{destroy:function(){n.removeEventListener(i,e,f)}}}function r(n,t,i,r){return function(i){i.delegateTarget=u(i.target,t);i.delegateTarget&&r.call(n,i)}}var u=n("./closest");t.exports=i},{"./closest":1}],3:[function(n,t,i){i.node=function(n){return void 0!==n&&n instanceof HTMLElement&&1===n.nodeType};i.nodeList=function(n){var t=Object.prototype.toString.call(n);return void 0!==n&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in n&&(0===n.length||i.node(n[0]))};i.string=function(n){return"string"==typeof n||n instanceof String};i.fn=function(n){return"[object Function]"===Object.prototype.toString.call(n)}},{}],4:[function(n,t){function r(n,t,r){if(!n&&!t&&!r)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(r))throw new TypeError("Third argument must be a Function");if(i.node(n))return u(n,t,r);if(i.nodeList(n))return f(n,t,r);if(i.string(n))return e(n,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function u(n,t,i){return n.addEventListener(t,i),{destroy:function(){n.removeEventListener(t,i)}}}function f(n,t,i){return Array.prototype.forEach.call(n,function(n){n.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(n,function(n){n.removeEventListener(t,i)})}}}function e(n,t,i){return o(document.body,n,t,i)}var i=n("./is"),o=n("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(n,t){function i(n){var t,r,i,u;return"SELECT"===n.nodeName?(n.focus(),t=n.value):"INPUT"===n.nodeName||"TEXTAREA"===n.nodeName?(r=n.hasAttribute("readonly"),r||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),r||n.removeAttribute("readonly"),t=n.value):(n.hasAttribute("contenteditable")&&n.focus(),i=window.getSelection(),u=document.createRange(),u.selectNodeContents(n),i.removeAllRanges(),i.addRange(u),t=i.toString()),t}t.exports=i},{}],6:[function(n,t){function i(){}i.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r);t.apply(i,arguments)}var u=this;return r._=t,this.on(n,r,i)},emit:function(n){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,u=i.length;for(t;t<u;t++)i[t].fn.apply(i[t].ctx,r);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;i<e;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}};t.exports=i},{}],7:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","select"],f);else if(void 0!==r)f(i,t("select"));else{var e={exports:{}};f(e,u.select);u.clipboardAction=e.exports}}(this,function(n,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=r(t),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(){function n(t){u(this,n);this.resolveOptions(t);this.initSelection()}return e(n,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=n.action;this.container=n.container;this.emitter=n.emitter;this.target=n.target;this.text=n.text;this.trigger=n.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,r="rtl"==document.documentElement.getAttribute("dir"),n;this.removeFake();this.fakeHandlerCallback=function(){return t.removeFake()};this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[r?"right":"left"]="-9999px";n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=i.default(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i.default(this.target);this.copyText()}},{key:"copyText",value:function(){var n=void 0;try{n=document.execCommand(this.action)}catch(t){n=!1}this.handleResult(n)}},{key:"handleResult",value:function(n){this.emitter.emit(n?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=n,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(n){if(void 0!==n){if(!n||"object"!==(void 0===n?"undefined":f(n))||1!==n.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=n}},get:function(){return this._target}}]),n}();n.exports=o})},{select:5}],8:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(void 0!==r)f(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var e={exports:{}};f(e,u.clipboardAction,u.tinyEmitter,u.goodListener);u.clipboard=e.exports}}(this,function(n,t,i,r){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function f(n,t){var i="data-clipboard-"+n;if(t.hasAttribute(i))return t.getAttribute(i)}var h=u(t),c=u(i),l=u(r),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),y=function(n){function t(n,i){e(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(i),r.listenClick(n),r}return s(t,n),v(t,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof n.action?n.action:this.defaultAction;this.target="function"==typeof n.target?n.target:this.defaultTarget;this.text="function"==typeof n.text?n.text:this.defaultText;this.container="object"===a(n.container)?n.container:document.body}},{key:"listenClick",value:function(n){var t=this;this.listener=l.default(n,"click",function(n){return t.onClick(n)})}},{key:"onClick",value:function(n){var t=n.delegateTarget||n.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new h.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(n){return f("action",n)}},{key:"defaultTarget",value:function(n){var t=f("target",n);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(n){return f("text",n)}},{key:"destroy",value:function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],i="string"==typeof n?[n]:n,t=!!document.queryCommandSupported;return i.forEach(function(n){t=t&&!!document.queryCommandSupported(n)}),t}}]),t}(c.default);n.exports=y})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});jQuery&&function(n){function v(t,i){var r=n('<div class="minicolors" />'),u=n.minicolors.defaults;t.data("minicolors-initialized")||(i=n.extend(!0,{},u,i),r.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),void 0!==i.position&&n.each(i.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-opacity-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-grid"><div class="minicolors-grid-inner"><\/div><div class="minicolors-picker"><div><\/div><\/div><\/div><\/div>'),i.inline||(t.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"><\/span><\/span>'),t.next(".minicolors-swatch").on("click",function(n){n.preventDefault();t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&t.parent().addClass("minicolors-inline"),f(t,!1),t.data("minicolors-initialized",!0))}function h(n){var t=n.parent();n.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");t.before(n).remove()}function o(n){var t=n.parent(),r=t.find(".minicolors-panel"),i=n.data("minicolors-settings");!n.data("minicolors-initialized")||n.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(u(),t.addClass("minicolors-focus"),r.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(n.get(0))}))}function u(){n(".minicolors-focus").each(function(){var t=n(this),r=t.find(".minicolors-input"),u=t.find(".minicolors-panel"),i=r.data("minicolors-settings");u.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(r.get(0));t.removeClass("minicolors-focus")})})}function c(n,t,i){var e,o,s,f,h=n.parents(".minicolors").find(".minicolors-input"),c=h.data("minicolors-settings"),a=n.find("[class$=-picker]"),v=n.offset().left,y=n.offset().top,u=Math.round(t.pageX-v),r=Math.round(t.pageY-y),p=i?c.animationSpeed:0;t.originalEvent.changedTouches&&(u=t.originalEvent.changedTouches[0].pageX-v,r=t.originalEvent.changedTouches[0].pageY-y);0>u&&(u=0);0>r&&(r=0);u>n.width()&&(u=n.width());r>n.height()&&(r=n.height());n.parent().is(".minicolors-slider-wheel")&&a.parent().is(".minicolors-grid")&&(e=75-u,o=75-r,s=Math.sqrt(e*e+o*o),f=Math.atan2(o,e),0>f&&(f+=2*Math.PI),s>75&&(s=75,u=75-75*Math.cos(f),r=75-75*Math.sin(f)),u=Math.round(u),r=Math.round(r));n.is(".minicolors-grid")?a.stop(!0).animate({top:r+"px",left:u+"px"},p,c.animationEasing,function(){l(h,n)}):a.stop(!0).animate({top:r+"px"},p,c.animationEasing,function(){l(h,n)})}function l(n,r){function nt(n,t){var i,r;return n.length&&t?(i=n.offset().left,r=n.offset().top,{x:i-t.offset().left+n.outerWidth()/2,y:r-t.offset().top+n.outerHeight()/2}):null}var u,f,s,p,w,b,v,l=n.val(),k=n.attr("data-opacity"),y=n.parent(),d=n.data("minicolors-settings"),it=y.find(".minicolors-swatch"),o=y.find(".minicolors-grid"),c=y.find(".minicolors-slider"),tt=y.find(".minicolors-opacity-slider"),rt=o.find("[class$=-picker]"),ut=c.find("[class$=-picker]"),ft=tt.find("[class$=-picker]"),h=nt(rt,o),g=nt(ut,c),et=nt(ft,tt);if(r.is(".minicolors-grid, .minicolors-slider")){switch(d.control){case"wheel":p=o.width()/2-h.x;w=o.height()/2-h.y;b=Math.sqrt(p*p+w*w);v=Math.atan2(w,p);0>v&&(v+=2*Math.PI);b>75&&(b=75,h.x=69-75*Math.cos(v),h.y=69-75*Math.sin(v));f=t(b/.75,0,100);u=t(180*v/Math.PI,0,360);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));break;case"saturation":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(g.y*(100/c.height())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:100,b:s}));y.find(".minicolors-grid-inner").css("opacity",f/100);break;case"brightness":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(h.y*(100/o.height())),0,100);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:u=t(360-parseInt(g.y*(360/c.height()),10),0,360);f=t(Math.floor(h.x*(100/o.width())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});o.css("backgroundColor",i({h:u,s:100,b:100}))}n.val(e(l,d.letterCase))}r.is(".minicolors-opacity-slider")&&(k=d.opacity?parseFloat(1-et.y/tt.height()).toFixed(2):1,d.opacity&&n.attr("data-opacity",k));it.find("SPAN").css({backgroundColor:l,opacity:k});a(n,l,k)}function f(n,u){var c,f,v,l,o,g,nt,y=n.parent(),p=n.data("minicolors-settings"),tt=y.find(".minicolors-swatch"),s=y.find(".minicolors-grid"),h=y.find(".minicolors-slider"),w=y.find(".minicolors-opacity-slider"),b=s.find("[class$=-picker]"),d=h.find("[class$=-picker]"),it=w.find("[class$=-picker]");switch(c=e(r(n.val(),!0),p.letterCase),c||(c=e(r(p.defaultValue,!0),p.letterCase)),f=k(c),u||n.val(c),p.opacity&&(v=""===n.attr("data-opacity")?1:t(parseFloat(n.attr("data-opacity")).toFixed(2),0,1),isNaN(v)&&(v=1),n.attr("data-opacity",v),tt.find("SPAN").css("opacity",v),o=t(w.height()-w.height()*v,0,w.height()),it.css("top",o+"px")),tt.find("SPAN").css("backgroundColor",c),p.control){case"wheel":g=t(Math.ceil(.75*f.s),0,s.height()/2);nt=f.h*Math.PI/180;l=t(75-Math.cos(nt)*g,0,s.width());o=t(75-Math.sin(nt)*g,0,s.height());b.css({top:o+"px",left:l+"px"});o=150-f.b/(100/s.height());""===c&&(o=0);d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));break;case"saturation":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.s*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:100,b:f.b}));y.find(".minicolors-grid-inner").css("opacity",f.s/100);break;case"brightness":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.s/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.b*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-f.b/100);break;default:l=t(Math.ceil(f.s/(100/s.width())),0,s.width());o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.h/(360/h.height()),0,h.height());d.css("top",o+"px");s.css("backgroundColor",i({h:f.h,s:100,b:100}))}n.data("minicolors-initialized")&&a(n,c,v)}function a(n,t,i){var r=n.data("minicolors-settings"),u=n.data("minicolors-lastChange");u&&u.hex===t&&u.opacity===i||(n.data("minicolors-lastChange",{hex:t,opacity:i}),r.change&&(r.changeDelay?(clearTimeout(n.data("minicolors-changeTimeout")),n.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(n.get(0),t,i)},r.changeDelay))):r.change.call(n.get(0),t,i)),n.trigger("change").trigger("input"))}function y(t){var f=r(n(t).val(),!0),i=s(f),u=n(t).attr("data-opacity");return i?(void 0!==u&&n.extend(i,{a:parseFloat(u)}),i):null}function p(t,i){var e=r(n(t).val(),!0),u=s(e),f=n(t).attr("data-opacity");return u?(void 0===f&&(f=1),i?"rgba("+u.r+", "+u.g+", "+u.b+", "+parseFloat(f)+")":"rgb("+u.r+", "+u.g+", "+u.b+")"):null}function e(n,t){return"uppercase"===t?n.toUpperCase():n.toLowerCase()}function r(n,t){return n=n.replace(/[^A-F0-9]/gi,""),3!==n.length&&6!==n.length?"":(3===n.length&&t&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"#"+n)}function t(n,t,i){return t>n&&(n=t),n>i&&(n=i),n}function w(n){var t={},u=Math.round(n.h),o=Math.round(255*n.s/100),e=Math.round(255*n.b/100);if(0===o)t.r=t.g=t.b=e;else{var i=e,r=(255-o)*e/255,f=(i-r)*(u%60)/60;360===u&&(u=0);60>u?(t.r=i,t.b=r,t.g=r+f):120>u?(t.g=i,t.b=r,t.r=i-f):180>u?(t.g=i,t.r=r,t.b=r+f):240>u?(t.b=i,t.r=r,t.g=i-f):300>u?(t.b=i,t.g=r,t.r=r+f):360>u?(t.r=i,t.g=r,t.b=i-f):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(i,function(n,t){1===t.length&&(i[n]="0"+t)}),"#"+i.join("")}function i(n){return b(w(n))}function k(n){var t=d(s(n));return 0===t.s&&(t.h=360),t}function d(n){var t={h:0,s:0,b:0},u=Math.min(n.r,n.g,n.b),i=Math.max(n.r,n.g,n.b),r=i-u;return t.b=i,t.s=0!==i?255*r/i:0,t.h=0!==t.s?n.r===i?(n.g-n.b)/r:n.g===i?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function s(n){return n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16),{r:n>>16,g:(65280&n)>>8,b:255&n}}n.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}};n.extend(n.fn,{minicolors:function(t,i){switch(t){case"destroy":return n(this).each(function(){h(n(this))}),n(this);case"hide":return u(),n(this);case"opacity":return void 0===i?n(this).attr("data-opacity"):(n(this).each(function(){f(n(this).attr("data-opacity",i))}),n(this));case"rgbObject":return y(n(this),"rgbaObject"===t);case"rgbString":case"rgbaString":return p(n(this),"rgbaString"===t);case"settings":return void 0===i?n(this).data("minicolors-settings"):(n(this).each(function(){var t=n(this).data("minicolors-settings")||{};h(n(this));n(this).minicolors(n.extend(!0,t,i))}),n(this));case"show":return o(n(this).eq(0)),n(this);case"value":return void 0===i?n(this).val():(n(this).each(function(){f(n(this).val(i))}),n(this));default:return"create"!==t&&(i=t),n(this).each(function(){v(n(this),i)}),n(this)}}});n(document).on("mousedown.minicolors touchstart.minicolors",function(t){n(t.target).parents().add(t.target).hasClass("minicolors")||u()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=n(this);t.preventDefault();n(document).data("minicolors-target",i);c(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=n(document).data("minicolors-target");i&&c(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){n(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var i=n(this).parent().find(".minicolors-input");t.preventDefault();o(i)}).on("focus.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&o(t)}).on("blur.minicolors",".minicolors-input",function(){var t=n(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(r(t.val(),!0)),""===t.val()&&t.val(r(i.defaultValue,!0)),t.val(e(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=n(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:u();break;case 13:case 27:u();i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&f(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&setTimeout(function(){f(t,!0)},1)})}(jQuery);$(document).ready(function(){$(".changecolor").each(function(){$(this).minicolors({control:$(this).attr("data-control")||"hue",defaultValue:$(this).attr("data-defaultValue")||"",inline:$(this).attr("data-inline")==="true",letterCase:$(this).attr("data-letterCase")||"lowercase",opacity:$(this).attr("data-opacity"),position:$(this).attr("data-position")||"bottom left",change:function(n,t){if(n){t&&(n+=", "+t);try{console.log(n)}catch(i){}}},theme:"bootstrap"})})});readyMemberCardInfo();$("#card_name").keyup(function(){$("#titlename").text($("#card_name").val())});$(document).on("change","#fileCard_bgimg",function(){$.commonUploadImg("fileCard_bgimg","MemberCard","true",function(n){$("#card_bgimg").attr("src",_g_res_images_url+n);$("#card_bgimg2").css("background","url("+_g_res_images_url+n+")")})});$(document).on("change","#fileCard_img",function(){$.commonUploadImg("fileCard_img","MemberCard","true",function(n){n&&($("#card_img").attr("src",_g_res_images_url+n),$("#card_img2").attr("src",_g_res_images_url+n))})});$(document).on("click","#Btnselectcardbg",function(){layerpage.Deke_layerpage.noneClosePage("1","\u9009\u62e9\u4f1a\u5458\u5361\u80cc\u666f","/ajaxHtml_N3/wechat/selectMembercardbg.html?="+getTimeStamp(),["740px","500px"],selectCardbgFn)});$(document).on("click","#Btnselectcard",function(){layerpage.Deke_layerpage.noneClosePage("1","\u9009\u62e9\u4f1a\u5458\u5361\u80cc\u666f","/ajaxHtml_N3/wechat/selectMembercard.html?="+getTimeStamp(),["740px","500px"],selectCardFn)});$(document).unbind("click","#btnSetCard_img").on("click","#btnSetCard_img",function(){var n=$(".active img").attr("src");$("#card_img").attr("src",n);$("#card_img2").attr("src",_g_res_images_url+n);layer.closeAll()});$(document).unbind("click","#btnSetCard_bgimg").on("click","#btnSetCard_bgimg",function(){var n=$("ul li.active img").attr("src");$("#card_bgimg").attr("src",n);$("#card_bgimg2").css("background","url("+n+")");layer.closeAll()});$("#resetCard_img").click(function(){$("#card_img").attr("src","")});$("#resetCard_bgimg").click(function(){$("#card_bgimg").attr("src","")});clipboard=new Clipboard("#copyLink",{text:function(){return $("#copyText").val()}});clipboard.on("success",function(){layer.msg("\u590d\u5236\u6210\u529f\uff01")});clipboard.on("error",function(){layer.msg("\u590d\u5236\u5931\u8d25\uff01")});$("#btnSaveCard").click(function(){var n=$("input[name='checki']:checked").data("id"),t;$("input[name='checki']:checked").length==2&&(n=2);t={card_name:$("#card_name").val().trim(),card_live:$("#card_live").val(),card_namecolor:$("#card_namecolor").val().trim(),card_numcolor:$("#card_numcolor").val().trim(),card_bgimg:$("#card_bgimg").attr("src"),card_img:$("#card_img").attr("src"),card_viewproject:n,prefix:$("#card_prefix").val().trim(),startDigit:$("#card_startDigit").val().trim(),digitalLength:$("#card_digitalLength").val().trim(),filter:$("#card_filter").val().trim()};disableButtonById("btnSaveCard");$.postAsyncJson("/WeiXin/SaveCard",t,function(n){n==!0?(enabledButtonById("btnSaveCard"),layer.msg("\u5fae\u4fe1\u4f1a\u5458\u5361\u4fdd\u5b58\u6210\u529f\uff01")):n==!1?(enabledButtonById("btnSaveCard"),layer.msg("\u5fae\u4fe1\u4f1a\u5458\u5361\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01")):n==-2&&(enabledButtonById("btnSaveCard"),layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"))})});$(document).ready(function(){setTimeout(function(){getWxMemberCardListObj()},1500)});$("#createwxmembercard").on("click",function(){$.get("http://testing.mispos.cc/api/wx/CreateWxMemberCard?user_id="+user_id,function(n){n&&n.indexOf("\u521b\u5efa\u6210\u529f")>=0&&n.length>4?(getWxMemberCardList(),layer.msg("\u521b\u5efa\u4f1a\u5458\u5361\u6210\u529f\uff0c\u53ef\u626b\u63cf\u751f\u6210\u7684\u4e8c\u7ef4\u7801\u9886\u53d6\u5230\u5361\u5305\uff01")):layer.msg("\u6dfb\u52a0\u5230\u4f1a\u5458\u5361\u5361\u5305\u5931\u8d25\uff0c"+n)})});clipboard=new Clipboard(".copyaddress2",{text:function(n){var t=$(n).index();return $(this).siblings(".copyUrl"+t+"").val()}});clipboard.on("success",function(){layer.msg("\u590d\u5236\u6210\u529f\uff01")});clipboard.on("error",function(){layer.msg("\u590d\u5236\u5931\u8d25\uff01")});